
public class JobCompletionDecider implements JobExecutionDecider{
	@Autowired
	DataSource datasource;
	
//	@Autowired
//	JobExecution jobExecution;
	
	@Override
	
	public FlowExecutionStatus decide(JobExecution jobExecution, StepExecution stepExecution) {
		// TODO Auto-generated method stub
		BatchStatus locationJobStatus = jobExecution.getExecutionContext().get("pdtLocationJob",BatchStatus.class);
		BatchStatus qualificationJobStatus = jobExecution.getExecutionContext().get("qualificationpdtInfo",BatchStatus.class);
		
		System.out.println("Location Job Status-->" + locationJobStatus );
		System.out.println("Qualification Job Status-->" + qualificationJobStatus);
		
		if(locationJobStatus == BatchStatus.COMPLETED && qualificationJobStatus == BatchStatus.COMPLETED)
			return new FlowExecutionStatus("COMPLETED");
		else
			return new FlowExecutionStatus("FAILED");
	}
